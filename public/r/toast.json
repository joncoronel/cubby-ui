{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "toast",
  "type": "registry:ui",
  "title": "Toast",
  "description": "A toast component.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "@cubby-ui/button"
  ],
  "files": [
    {
      "path": "registry/default/toast/toast.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Toast } from \"@base-ui/react/toast\";\r\nimport {\r\n  CircleAlertIcon,\r\n  CircleCheckIcon,\r\n  InfoIcon,\r\n  LoaderCircleIcon,\r\n  TriangleAlertIcon,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { buttonVariants } from \"@/registry/default/button/button\";\r\n\r\n// =============================================================================\r\n// Module-level managers (like Coss UI / Base UI pattern)\r\n// =============================================================================\r\n\r\nconst toastManager = Toast.createToastManager();\r\nconst anchoredToastManager = Toast.createToastManager();\r\n\r\n// =============================================================================\r\n// Grouped Toast Mappings (simplified - no separate state manager)\r\n// =============================================================================\r\n\r\n// Map groupId -> Base UI toastId\r\nconst groupToToastMap = new Map<string, string>();\r\n// Map itemId -> groupId for lookups\r\nconst groupItemToGroupMap = new Map<string, string>();\r\n// Map groupId -> GroupedToastData (we track our own data since toastManager doesn't expose getSnapshot)\r\nconst groupDataMap = new Map<string, GroupedToastData>();\r\n\r\n// =============================================================================\r\n// Types\r\n// =============================================================================\r\n\r\nconst TOAST_ICONS = {\r\n  success: CircleCheckIcon,\r\n  error: CircleAlertIcon,\r\n  warning: TriangleAlertIcon,\r\n  info: InfoIcon,\r\n  loading: LoaderCircleIcon,\r\n} as const;\r\n\r\n// Icon colors are handled via in-data-[type=*] selectors in the Icon className,\r\n// which automatically style based on the data-type attribute set by Base UI on Toast.Root\r\n\r\nexport interface ToastOptions<TData extends object = object> {\r\n  title?: string;\r\n  description?: string;\r\n  type?: \"default\" | \"success\" | \"error\" | \"warning\" | \"info\";\r\n  duration?: number;\r\n  priority?: \"low\" | \"high\";\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n  data?: TData;\r\n  onClose?: () => void;\r\n  onRemove?: () => void;\r\n}\r\n\r\nexport interface AnchoredToastOptions<TData extends object = object>\r\n  extends Omit<ToastOptions<TData>, \"type\"> {\r\n  anchor: Element | React.RefObject<Element | null>;\r\n  side?: \"top\" | \"bottom\" | \"left\" | \"right\";\r\n  sideOffset?: number;\r\n  align?: \"start\" | \"center\" | \"end\";\r\n  alignOffset?: number;\r\n  arrow?: boolean;\r\n}\r\n\r\ninterface ToastData {\r\n  id: string;\r\n  title?: string;\r\n  description?: string;\r\n  type?: \"default\" | \"success\" | \"error\" | \"warning\" | \"info\" | \"loading\";\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n  data?: unknown;\r\n  positionerProps?: {\r\n    anchor?: Element | null;\r\n    side?: \"top\" | \"bottom\" | \"left\" | \"right\";\r\n    sideOffset?: number;\r\n    align?: \"start\" | \"center\" | \"end\";\r\n    alignOffset?: number;\r\n  };\r\n}\r\n\r\n// =============================================================================\r\n// Grouped Toast Types\r\n// =============================================================================\r\n\r\ntype ToastType = \"default\" | \"loading\" | \"success\" | \"error\" | \"warning\" | \"info\";\r\n\r\n/** Individual item within a grouped toast */\r\nexport interface GroupedToastItem {\r\n  id: string;\r\n  title?: string;\r\n  description?: string;\r\n  type?: ToastType;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n  data?: object;\r\n  createdAt: number;\r\n}\r\n\r\n/** Options for creating a grouped toast item */\r\nexport interface GroupedToastOptions<TData extends object = object> {\r\n  groupId: string;\r\n  title?: string;\r\n  description?: string;\r\n  type?: ToastType;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n  data?: TData;\r\n  onClose?: () => void;\r\n  onRemove?: () => void;\r\n  groupSummary: string | ((count: number) => string);\r\n  groupAction?: {\r\n    label: string;\r\n    expandedLabel?: string;\r\n  };\r\n}\r\n\r\n/** Data structure stored in Base UI toast for grouped toasts */\r\ninterface GroupedToastData {\r\n  isGrouped: true;\r\n  groupId: string;\r\n  items: GroupedToastItem[];\r\n  isExpanded: boolean;\r\n  summary: string | ((count: number) => string);\r\n  action: {\r\n    label: string;\r\n    expandedLabel: string;\r\n  };\r\n}\r\n\r\n// =============================================================================\r\n// Toast Helper Functions\r\n// =============================================================================\r\n\r\n// Overloaded function signatures for JSX support\r\nfunction baseToast(jsx: React.ReactElement): string | undefined;\r\nfunction baseToast<TData extends object = object>(\r\n  jsx: React.ReactElement,\r\n  options: Omit<ToastOptions<TData>, \"title\" | \"description\">,\r\n): string | undefined;\r\nfunction baseToast<TData extends object = object>(\r\n  options: ToastOptions<TData>,\r\n): string | undefined;\r\n\r\nfunction baseToast<TData extends object = object>(\r\n  optionsOrJSX: ToastOptions<TData> | React.ReactElement,\r\n  jsxOptions?: Omit<ToastOptions<TData>, \"title\" | \"description\">,\r\n): string | undefined {\r\n  // Handle JSX element passed directly (with optional options)\r\n  if (React.isValidElement(optionsOrJSX)) {\r\n    return toastManager.add({\r\n      title: \"\",\r\n      description: \"\",\r\n      type: jsxOptions?.type || \"default\",\r\n      timeout: jsxOptions?.duration || undefined,\r\n      priority: jsxOptions?.priority || \"low\",\r\n      ...(jsxOptions?.action && {\r\n        actionProps: {\r\n          children: jsxOptions.action.label,\r\n          onClick: jsxOptions.action.onClick,\r\n        },\r\n      }),\r\n      data: {\r\n        customJSX: optionsOrJSX,\r\n        ...(jsxOptions?.data && jsxOptions.data),\r\n      },\r\n      ...(jsxOptions?.onClose && { onClose: jsxOptions.onClose }),\r\n      ...(jsxOptions?.onRemove && { onRemove: jsxOptions.onRemove }),\r\n    });\r\n  }\r\n\r\n  // Handle options object\r\n  const options = optionsOrJSX as ToastOptions<TData>;\r\n  return toastManager.add({\r\n    title: options.title,\r\n    description: options.description || \"\",\r\n    type: options.type || \"default\",\r\n    timeout: options.duration || undefined,\r\n    priority: options.priority || \"low\",\r\n    ...(options.action && {\r\n      actionProps: {\r\n        children: options.action.label,\r\n        onClick: options.action.onClick,\r\n      },\r\n    }),\r\n    ...(options.data && { data: options.data }),\r\n    ...(options.onClose && { onClose: options.onClose }),\r\n    ...(options.onRemove && { onRemove: options.onRemove }),\r\n  });\r\n}\r\n\r\n/** Message format for promise toasts - can be a string or an object with title/description */\r\ntype PromiseMessage = string | { title?: string; description?: string };\r\n\r\n/** Promise message that can also be a function returning the message */\r\ntype PromiseMessageOrFn<T> = PromiseMessage | ((data: T) => PromiseMessage);\r\n\r\nconst promise = async <T,>(\r\n  promiseToResolve: Promise<T>,\r\n  messages: {\r\n    loading: PromiseMessage;\r\n    success: PromiseMessageOrFn<T>;\r\n    error: PromiseMessageOrFn<Error>;\r\n  },\r\n) => {\r\n  // Helper to normalize message to Base UI format\r\n  const normalizeMessage = <U,>(\r\n    msg: PromiseMessageOrFn<U>,\r\n    data?: U,\r\n  ): string | { title?: string; description?: string } => {\r\n    if (typeof msg === \"function\") {\r\n      const result = data !== undefined ? msg(data) : msg;\r\n      return result as string | { title?: string; description?: string };\r\n    }\r\n    return msg;\r\n  };\r\n\r\n  return toastManager.promise(promiseToResolve, {\r\n    loading: normalizeMessage(messages.loading) as\r\n      | string\r\n      | { title?: string; description?: string },\r\n    success:\r\n      typeof messages.success === \"function\"\r\n        ? (data: T) =>\r\n            normalizeMessage(messages.success, data) as\r\n              | string\r\n              | { title?: string; description?: string }\r\n        : (normalizeMessage(messages.success) as\r\n            | string\r\n            | { title?: string; description?: string }),\r\n    error:\r\n      typeof messages.error === \"function\"\r\n        ? (err: Error) =>\r\n            normalizeMessage(messages.error, err) as\r\n              | string\r\n              | { title?: string; description?: string }\r\n        : (normalizeMessage(messages.error) as\r\n            | string\r\n            | { title?: string; description?: string }),\r\n  });\r\n};\r\n\r\n// Factory function to create typed toast methods (DRY)\r\nfunction createTypedToast(type: NonNullable<ToastOptions[\"type\"]>) {\r\n  return <TData extends object = object>(\r\n    optionsOrJSX: Omit<ToastOptions<TData>, \"type\"> | React.ReactElement,\r\n    jsxOptions?: Omit<ToastOptions<TData>, \"title\" | \"description\" | \"type\">,\r\n  ) => {\r\n    if (React.isValidElement(optionsOrJSX)) {\r\n      return baseToast(optionsOrJSX, { ...jsxOptions, type });\r\n    }\r\n    return baseToast({ ...optionsOrJSX, type });\r\n  };\r\n}\r\n\r\n// Create the toast object with methods like Sonner\r\nexport const toast = Object.assign(baseToast, {\r\n  success: createTypedToast(\"success\"),\r\n  error: createTypedToast(\"error\"),\r\n  warning: createTypedToast(\"warning\"),\r\n  info: createTypedToast(\"info\"),\r\n  promise,\r\n  dismiss: (toastId: string) => {\r\n    return toastManager.close(toastId);\r\n  },\r\n  update: (toastId: string, options: Partial<ToastOptions>) => {\r\n    const updateOptions: Record<string, unknown> = {};\r\n    if (options.title !== undefined) updateOptions.title = options.title;\r\n    if (options.description !== undefined)\r\n      updateOptions.description = options.description;\r\n    if (options.type !== undefined) updateOptions.type = options.type;\r\n    if (options.data !== undefined) updateOptions.data = options.data;\r\n\r\n    return toastManager.update(toastId, updateOptions);\r\n  },\r\n  custom: <TData extends object = object>(options: ToastOptions<TData>) =>\r\n    baseToast(options),\r\n  /** Show an anchored toast near an element */\r\n  anchored: <TData extends object = object>(\r\n    options: AnchoredToastOptions<TData>,\r\n  ) => {\r\n    const anchor =\r\n      options.anchor instanceof Element\r\n        ? options.anchor\r\n        : options.anchor?.current;\r\n\r\n    if (!anchor) {\r\n      console.warn(\"Toast anchor element not found\");\r\n      return;\r\n    }\r\n\r\n    return anchoredToastManager.add({\r\n      title: options.title,\r\n      description: options.description || \"\",\r\n      timeout: options.duration || undefined,\r\n      priority: options.priority || \"low\",\r\n      ...(options.action && {\r\n        actionProps: {\r\n          children: options.action.label,\r\n          onClick: options.action.onClick,\r\n        },\r\n      }),\r\n      data: {\r\n        ...(options.data || {}),\r\n        arrow: options.arrow ?? false,\r\n      },\r\n      positionerProps: {\r\n        anchor,\r\n        side: options.side ?? \"top\",\r\n        sideOffset: options.sideOffset ?? 8,\r\n        align: options.align,\r\n        alignOffset: options.alignOffset,\r\n      },\r\n      ...(options.onClose && { onClose: options.onClose }),\r\n      ...(options.onRemove && { onRemove: options.onRemove }),\r\n    });\r\n  },\r\n  /** Dismiss an anchored toast */\r\n  dismissAnchored: (toastId: string) => {\r\n    return anchoredToastManager.close(toastId);\r\n  },\r\n  /** Show a grouped toast that collapses multiple items into a summary */\r\n  grouped: <TData extends object = object>(\r\n    options: GroupedToastOptions<TData>,\r\n  ) => {\r\n    const existingToastId = groupToToastMap.get(options.groupId);\r\n    const itemId = `grouped-${options.groupId}-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`;\r\n\r\n    const newItem: GroupedToastItem = {\r\n      id: itemId,\r\n      title: options.title,\r\n      description: options.description,\r\n      type: options.type,\r\n      action: options.action,\r\n      data: options.data,\r\n      createdAt: Date.now(),\r\n    };\r\n\r\n    if (existingToastId) {\r\n      // Add to existing group\r\n      const existingData = groupDataMap.get(options.groupId);\r\n      if (existingData) {\r\n        const updatedData: GroupedToastData = {\r\n          ...existingData,\r\n          items: [...existingData.items, newItem],\r\n        };\r\n        groupDataMap.set(options.groupId, updatedData);\r\n        toastManager.update(existingToastId, { data: updatedData });\r\n      }\r\n    } else {\r\n      // Create new group\r\n      const groupId = options.groupId;\r\n      const groupData: GroupedToastData = {\r\n        isGrouped: true,\r\n        groupId,\r\n        items: [newItem],\r\n        isExpanded: false,\r\n        summary: options.groupSummary,\r\n        action: {\r\n          label: options.groupAction?.label ?? \"Show\",\r\n          expandedLabel: options.groupAction?.expandedLabel ?? \"Hide\",\r\n        },\r\n      };\r\n      const toastId = toastManager.add({\r\n        title: \"\",\r\n        description: \"\",\r\n        data: groupData,\r\n        timeout: 0, // Groups don't auto-dismiss\r\n        // Clean up our maps when the toast is closed (via close button or swipe)\r\n        onClose: () => {\r\n          const data = groupDataMap.get(groupId);\r\n          if (data) {\r\n            data.items.forEach((item) => groupItemToGroupMap.delete(item.id));\r\n          }\r\n          groupToToastMap.delete(groupId);\r\n          groupDataMap.delete(groupId);\r\n        },\r\n      });\r\n      if (toastId) {\r\n        groupToToastMap.set(groupId, toastId);\r\n        groupDataMap.set(groupId, groupData);\r\n      }\r\n    }\r\n\r\n    groupItemToGroupMap.set(itemId, options.groupId);\r\n    return itemId;\r\n  },\r\n  /** Dismiss a single item from a grouped toast */\r\n  dismissGroupItem: (itemId: string) => {\r\n    const groupId = groupItemToGroupMap.get(itemId);\r\n    if (!groupId) return;\r\n\r\n    const toastId = groupToToastMap.get(groupId);\r\n    if (!toastId) return;\r\n\r\n    const data = groupDataMap.get(groupId);\r\n    if (!data) return;\r\n\r\n    const newItems = data.items.filter((item) => item.id !== itemId);\r\n    groupItemToGroupMap.delete(itemId);\r\n\r\n    if (newItems.length === 0) {\r\n      // Last item - close the toast entirely\r\n      toastManager.close(toastId);\r\n      groupToToastMap.delete(groupId);\r\n      groupDataMap.delete(groupId);\r\n    } else if (newItems.length === 1 && newItems[0].type !== \"loading\") {\r\n      // Only 1 item remains and it's already complete - dismiss the whole toast\r\n      // This avoids the awkward transition from \"All complete\" to single-item view\r\n      toastManager.close(toastId);\r\n      groupItemToGroupMap.delete(newItems[0].id);\r\n      groupToToastMap.delete(groupId);\r\n      groupDataMap.delete(groupId);\r\n    } else {\r\n      // Update toast with remaining items\r\n      const updatedData: GroupedToastData = {\r\n        ...data,\r\n        items: newItems,\r\n        // Collapse if only 1 item remains\r\n        isExpanded: newItems.length === 1 ? false : data.isExpanded,\r\n      };\r\n      groupDataMap.set(groupId, updatedData);\r\n      toastManager.update(toastId, { data: updatedData });\r\n\r\n      // If only 1 item remains and it's still loading, it will complete later\r\n      // and trigger auto-dismiss via updateGroupItem\r\n    }\r\n  },\r\n  /** Dismiss an entire group of toasts */\r\n  dismissGroup: (groupId: string) => {\r\n    const toastId = groupToToastMap.get(groupId);\r\n    if (!toastId) return;\r\n\r\n    // Clean up item mappings\r\n    const data = groupDataMap.get(groupId);\r\n    if (data) {\r\n      data.items.forEach((item) => groupItemToGroupMap.delete(item.id));\r\n    }\r\n\r\n    toastManager.close(toastId);\r\n    groupToToastMap.delete(groupId);\r\n    groupDataMap.delete(groupId);\r\n  },\r\n  /** Update a single item in a grouped toast */\r\n  updateGroupItem: (\r\n    itemId: string,\r\n    options: Partial<Omit<GroupedToastItem, \"id\" | \"createdAt\">>,\r\n  ) => {\r\n    const groupId = groupItemToGroupMap.get(itemId);\r\n    if (!groupId) return;\r\n\r\n    const toastId = groupToToastMap.get(groupId);\r\n    if (!toastId) return;\r\n\r\n    const data = groupDataMap.get(groupId);\r\n    if (!data) return;\r\n\r\n    // Find the current item to check if type is changing from loading\r\n    const currentItem = data.items.find((item) => item.id === itemId);\r\n    const wasLoading = currentItem?.type === \"loading\";\r\n    const isNowComplete =\r\n      options.type !== undefined && options.type !== \"loading\";\r\n\r\n    const newItems = data.items.map((item) =>\r\n      item.id === itemId ? { ...item, ...options } : item,\r\n    );\r\n\r\n    const updatedData: GroupedToastData = { ...data, items: newItems };\r\n    groupDataMap.set(groupId, updatedData);\r\n    toastManager.update(toastId, { data: updatedData });\r\n\r\n    // If transitioning from loading to complete, start individual item dismiss timer\r\n    if (wasLoading && isNowComplete) {\r\n      setTimeout(() => {\r\n        toast.dismissGroupItem(itemId);\r\n      }, 5000);\r\n    }\r\n  },\r\n});\r\n\r\n// =============================================================================\r\n// Toast Provider (Stacked Toasts)\r\n// =============================================================================\r\n\r\nexport type ToastPosition =\r\n  | \"top-left\"\r\n  | \"top-center\"\r\n  | \"top-right\"\r\n  | \"bottom-left\"\r\n  | \"bottom-center\"\r\n  | \"bottom-right\";\r\n\r\ninterface ToastProviderProps {\r\n  children: React.ReactNode;\r\n  position?: ToastPosition;\r\n  limit?: number;\r\n  timeout?: number;\r\n  container?: HTMLElement | React.RefObject<HTMLElement | null> | null;\r\n}\r\n\r\nexport function ToastProvider({\r\n  children,\r\n  position = \"bottom-right\",\r\n  limit = 3,\r\n  timeout = 5000,\r\n  container,\r\n}: ToastProviderProps) {\r\n  return (\r\n    <Toast.Provider\r\n      limit={limit}\r\n      timeout={timeout}\r\n      toastManager={toastManager}\r\n    >\r\n      {children}\r\n      <Toast.Portal container={container}>\r\n        <Toast.Viewport\r\n          data-slot=\"toast-viewport\"\r\n          data-position={position}\r\n          className={cn(\r\n            \"fixed z-50 flex w-[calc(100%-var(--toast-inset)*2)] max-w-[360px]\",\r\n            \"[--toast-inset:1rem] sm:[--toast-inset:2rem]\",\r\n            // Vertical positioning\r\n            \"data-[position*=top]:top-(--toast-inset)\",\r\n            \"data-[position*=bottom]:bottom-(--toast-inset)\",\r\n            // Horizontal positioning\r\n            \"data-[position*=left]:left-(--toast-inset)\",\r\n            \"data-[position*=right]:right-(--toast-inset)\",\r\n            \"data-[position*=center]:left-1/2 data-[position*=center]:-translate-x-1/2\",\r\n          )}\r\n        >\r\n          <StackedToasts position={position} />\r\n        </Toast.Viewport>\r\n      </Toast.Portal>\r\n    </Toast.Provider>\r\n  );\r\n}\r\n\r\nfunction StackedToasts({ position }: { position: ToastPosition }) {\r\n  const { toasts } = Toast.useToastManager();\r\n  const isTop = position.startsWith(\"top\");\r\n\r\n  return (\r\n    <>\r\n      {toasts.map((toast) => (\r\n        <StackedToastItem\r\n          key={toast.id}\r\n          toast={toast as ToastData}\r\n          position={position}\r\n          swipeDirection={\r\n            position.includes(\"center\")\r\n              ? [isTop ? \"up\" : \"down\"]\r\n              : position.includes(\"left\")\r\n                ? [\"left\", isTop ? \"up\" : \"down\"]\r\n                : [\"right\", isTop ? \"up\" : \"down\"]\r\n          }\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\ninterface StackedToastItemProps {\r\n  toast: ToastData;\r\n  position: ToastPosition;\r\n  swipeDirection:\r\n    | (\"up\" | \"down\" | \"left\" | \"right\")\r\n    | (\"up\" | \"down\" | \"left\" | \"right\")[];\r\n}\r\n\r\nfunction StackedToastItem({\r\n  toast,\r\n  position,\r\n  swipeDirection,\r\n}: StackedToastItemProps) {\r\n  // Check if this is a grouped toast\r\n  const isGrouped =\r\n    toast.data &&\r\n    typeof toast.data === \"object\" &&\r\n    \"isGrouped\" in toast.data &&\r\n    (toast.data as GroupedToastData).isGrouped === true;\r\n\r\n  // For grouped toasts, render with GroupedToastContent\r\n  if (isGrouped) {\r\n    return (\r\n      <GroupedToastRoot\r\n        toast={toast}\r\n        position={position}\r\n        swipeDirection={swipeDirection}\r\n        data={toast.data as GroupedToastData}\r\n      />\r\n    );\r\n  }\r\n\r\n  const type = toast.type || \"default\";\r\n\r\n  // Check if this is a custom JSX toast\r\n  const hasCustomJSX =\r\n    toast.data &&\r\n    typeof toast.data === \"object\" &&\r\n    \"customJSX\" in toast.data;\r\n\r\n  // Get icon for toast type\r\n  const Icon =\r\n    type !== \"default\" ? TOAST_ICONS[type as keyof typeof TOAST_ICONS] : null;\r\n\r\n  // Organized class arrays for readability\r\n  const cssVariables = [\r\n    \"[--toast-gap:0.75rem] [--toast-peek:0.75rem]\",\r\n    \"[--toast-scale:calc(max(0,1-(var(--toast-index)*0.1)))]\",\r\n    \"[--toast-shrink:calc(1-var(--toast-scale))]\",\r\n    \"[--toast-calc-height:var(--toast-frontmost-height,var(--toast-height))]\",\r\n    // Offset-y variable (position-aware)\r\n    \"data-[position*=top]:[--toast-calc-offset-y:calc(var(--toast-offset-y)+(var(--toast-index)*var(--toast-gap))+var(--toast-swipe-movement-y))]\",\r\n    \"data-[position*=bottom]:[--toast-calc-offset-y:calc(var(--toast-offset-y)*-1+(var(--toast-index)*var(--toast-gap)*-1)+var(--toast-swipe-movement-y))]\",\r\n  ];\r\n\r\n  const positionClasses = [\r\n    \"absolute z-[calc(1000-var(--toast-index))] w-full\",\r\n    \"data-[position*=top]:top-0 data-[position*=top]:right-0 data-[position*=top]:left-0 data-[position*=top]:origin-top\",\r\n    \"data-[position*=bottom]:right-0 data-[position*=bottom]:bottom-0 data-[position*=bottom]:left-0 data-[position*=bottom]:origin-bottom\",\r\n  ];\r\n\r\n  const transformClasses = [\r\n    // Default transform (position-aware)\r\n    \"data-[position*=top]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+(var(--toast-index)*var(--toast-peek))+(var(--toast-shrink)*var(--toast-calc-height))))_scale(var(--toast-scale))]\",\r\n    \"data-[position*=bottom]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)-(var(--toast-index)*var(--toast-peek))-(var(--toast-shrink)*var(--toast-calc-height))))_scale(var(--toast-scale))]\",\r\n    // Expanded state\r\n    \"data-expanded:h-(--toast-height)\",\r\n    \"data-position:data-expanded:transform-[translateX(var(--toast-swipe-movement-x))_translateY(var(--toast-calc-offset-y))]\",\r\n  ];\r\n\r\n  const animationClasses = [\r\n    // Starting animation (position-aware)\r\n    \"data-[position*=top]:data-starting-style:transform-[translateY(calc(-100%-var(--toast-inset)))]\",\r\n    \"data-[position*=bottom]:data-starting-style:transform-[translateY(calc(100%+var(--toast-inset)))]\",\r\n    // Ending opacity\r\n    \"data-ending-style:opacity-0\",\r\n    // Default ending - close button\r\n    \"data-ending-style:not-data-limited:not-data-swipe-direction:transform-[translateY(calc(100%+var(--toast-inset)))]\",\r\n    // Swipe endings\r\n    \"data-ending-style:data-[swipe-direction=down]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+100%+var(--toast-inset)))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=down]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+100%+var(--toast-inset)))]\",\r\n    \"data-ending-style:data-[swipe-direction=left]:transform-[translateX(calc(var(--toast-swipe-movement-x)-100%-var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=left]:transform-[translateX(calc(var(--toast-swipe-movement-x)-100%-var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-ending-style:data-[swipe-direction=right]:transform-[translateX(calc(var(--toast-swipe-movement-x)+100%+var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=right]:transform-[translateX(calc(var(--toast-swipe-movement-x)+100%+var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-ending-style:data-[swipe-direction=up]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)-100%-var(--toast-inset)))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=up]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)-100%-var(--toast-inset)))]\",\r\n  ];\r\n\r\n  const visualClasses = [\r\n    \"rounded-lg border border-border bg-card text-card-foreground\",\r\n    \"bg-clip-padding shadow-lg select-none\",\r\n    // After element for spacing\r\n    'after:absolute after:left-0 after:h-[calc(var(--toast-gap)+1px)] after:w-full after:content-[\"\"]',\r\n    \"data-[position*=top]:after:bottom-full\",\r\n    \"data-[position*=bottom]:after:top-full\",\r\n    // States\r\n    \"data-limited:opacity-0\",\r\n    // Height & transitions\r\n    \"h-(--toast-calc-height)\",\r\n    \"transition-[transform,opacity,height] duration-500 ease-[cubic-bezier(0.22,1,0.36,1)]\",\r\n  ];\r\n\r\n  return (\r\n    <Toast.Root\r\n      toast={toast}\r\n      swipeDirection={swipeDirection}\r\n      data-slot=\"toast\"\r\n      data-position={position}\r\n      className={cn(\r\n        cssVariables,\r\n        positionClasses,\r\n        transformClasses,\r\n        animationClasses,\r\n        visualClasses,\r\n      )}\r\n    >\r\n      <Toast.Content\r\n        data-slot=\"toast-content\"\r\n        className={cn(\r\n          \"flex items-start gap-3 overflow-hidden px-3.5 py-3 text-sm\",\r\n          \"transition-opacity duration-250\",\r\n          \"data-behind:pointer-events-none data-behind:opacity-0\",\r\n          \"data-expanded:pointer-events-auto data-expanded:opacity-100\",\r\n        )}\r\n      >\r\n        {hasCustomJSX ? (\r\n          <div className=\"w-full\">\r\n            {(toast.data as Record<string, React.ReactNode>).customJSX}\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {Icon && (\r\n              <div\r\n                data-slot=\"toast-icon\"\r\n                className=\"[&>svg]:size-4 [&>svg]:shrink-0\"\r\n              >\r\n                <Icon\r\n                  className={cn(\r\n                    \"in-data-[type=success]:text-success-foreground\",\r\n                    \"in-data-[type=error]:text-danger-foreground\",\r\n                    \"in-data-[type=warning]:text-warning-foreground\",\r\n                    \"in-data-[type=info]:text-info-foreground\",\r\n                    \"in-data-[type=loading]:animate-spin in-data-[type=loading]:text-muted-foreground\",\r\n                  )}\r\n                />\r\n              </div>\r\n            )}\r\n            <div className=\"flex min-w-0 flex-1 flex-col gap-0.5\">\r\n              <Toast.Title\r\n                data-slot=\"toast-title\"\r\n                className=\"text-sm font-medium leading-5\"\r\n              />\r\n              <Toast.Description\r\n                data-slot=\"toast-description\"\r\n                className=\"text-sm leading-5 text-muted-foreground\"\r\n              />\r\n            </div>\r\n            <Toast.Action\r\n              data-slot=\"toast-action\"\r\n              className={buttonVariants({ variant: \"outline\", size: \"xs\" })}\r\n            />\r\n            <Toast.Close\r\n              data-slot=\"toast-close\"\r\n              className=\"-mr-1 -mt-1 flex size-6 shrink-0 items-center justify-center rounded-md border-none bg-transparent text-muted-foreground transition-colors duration-200 hover:bg-accent/50 hover:text-foreground\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <XIcon className=\"size-4\" />\r\n            </Toast.Close>\r\n          </>\r\n        )}\r\n      </Toast.Content>\r\n    </Toast.Root>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// Anchored Toast Provider\r\n// =============================================================================\r\n\r\ninterface AnchoredToastProviderProps {\r\n  children: React.ReactNode;\r\n  limit?: number;\r\n  timeout?: number;\r\n  container?: HTMLElement | React.RefObject<HTMLElement | null> | null;\r\n}\r\n\r\nexport function AnchoredToastProvider({\r\n  children,\r\n  limit = 5,\r\n  timeout = 2000,\r\n  container,\r\n}: AnchoredToastProviderProps) {\r\n  return (\r\n    <Toast.Provider\r\n      limit={limit}\r\n      timeout={timeout}\r\n      toastManager={anchoredToastManager}\r\n    >\r\n      {children}\r\n      <Toast.Portal container={container}>\r\n        <Toast.Viewport data-slot=\"toast-viewport\" className=\"outline-none\">\r\n          <AnchoredToasts />\r\n        </Toast.Viewport>\r\n      </Toast.Portal>\r\n    </Toast.Provider>\r\n  );\r\n}\r\n\r\nfunction AnchoredToasts() {\r\n  const { toasts } = Toast.useToastManager();\r\n\r\n  return (\r\n    <>\r\n      {toasts.map((toast) => {\r\n        const toastData = toast as ToastData;\r\n        if (!toastData.positionerProps?.anchor) {\r\n          return null;\r\n        }\r\n        return <AnchoredToastItem key={toast.id} toast={toastData} />;\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction AnchoredToastItem({ toast }: { toast: ToastData }) {\r\n  const showArrow = Boolean(\r\n    toast.data &&\r\n      typeof toast.data === \"object\" &&\r\n      \"arrow\" in toast.data &&\r\n      (toast.data as Record<string, unknown>).arrow === true,\r\n  );\r\n\r\n  return (\r\n    <Toast.Positioner\r\n      toast={toast}\r\n      data-slot=\"toast-positioner\"\r\n      className=\"z-[calc(1000-var(--toast-index))]\"\r\n    >\r\n      <Toast.Root\r\n        toast={toast}\r\n        data-slot=\"toast\"\r\n        className={cn(\r\n          \"flex w-max origin-[var(--transform-origin)] flex-col rounded-md\",\r\n          \"border border-border bg-card text-card-foreground\",\r\n          \"px-3 py-2 text-sm shadow-lg\",\r\n          \"transition-all duration-200\",\r\n          \"data-[starting-style]:scale-95 data-[starting-style]:opacity-0\",\r\n          \"data-[ending-style]:scale-95 data-[ending-style]:opacity-0\",\r\n        )}\r\n      >\r\n        {showArrow && (\r\n          <Toast.Arrow\r\n            data-slot=\"toast-arrow\"\r\n            className=\"fill-card [&>path:first-child]:fill-card [&>path:not(:first-child)]:stroke-border\"\r\n          />\r\n        )}\r\n        <Toast.Content data-slot=\"toast-content\">\r\n          <Toast.Title data-slot=\"toast-title\" className=\"text-sm font-medium\" />\r\n          <Toast.Description\r\n            data-slot=\"toast-description\"\r\n            className=\"text-sm text-muted-foreground\"\r\n          />\r\n        </Toast.Content>\r\n      </Toast.Root>\r\n    </Toast.Positioner>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// Grouped Toast Components (using Base UI primitives)\r\n// =============================================================================\r\n\r\ninterface GroupedToastRootProps {\r\n  toast: ToastData;\r\n  position: ToastPosition;\r\n  swipeDirection:\r\n    | (\"up\" | \"down\" | \"left\" | \"right\")\r\n    | (\"up\" | \"down\" | \"left\" | \"right\")[];\r\n  data: GroupedToastData;\r\n}\r\n\r\n/** Helper to toggle expand/collapse for a grouped toast */\r\nfunction toggleGroupExpanded(toastId: string) {\r\n  // Find the groupId from toastId\r\n  let groupId: string | undefined;\r\n  for (const [gId, tId] of groupToToastMap.entries()) {\r\n    if (tId === toastId) {\r\n      groupId = gId;\r\n      break;\r\n    }\r\n  }\r\n  if (!groupId) return;\r\n\r\n  const data = groupDataMap.get(groupId);\r\n  if (!data) return;\r\n\r\n  const updatedData: GroupedToastData = { ...data, isExpanded: !data.isExpanded };\r\n  groupDataMap.set(groupId, updatedData);\r\n  toastManager.update(toastId, { data: updatedData });\r\n}\r\n\r\nfunction GroupedToastRoot({\r\n  toast,\r\n  position,\r\n  swipeDirection,\r\n  data,\r\n}: GroupedToastRootProps) {\r\n  const isTop = position.startsWith(\"top\");\r\n\r\n  // Organized class arrays for readability (same as regular toast)\r\n  const cssVariables = [\r\n    \"[--toast-gap:0.75rem] [--toast-peek:0.75rem]\",\r\n    \"[--toast-scale:calc(max(0,1-(var(--toast-index)*0.1)))]\",\r\n    \"[--toast-shrink:calc(1-var(--toast-scale))]\",\r\n    \"[--toast-calc-height:var(--toast-frontmost-height,var(--toast-height))]\",\r\n    \"data-[position*=top]:[--toast-calc-offset-y:calc(var(--toast-offset-y)+(var(--toast-index)*var(--toast-gap))+var(--toast-swipe-movement-y))]\",\r\n    \"data-[position*=bottom]:[--toast-calc-offset-y:calc(var(--toast-offset-y)*-1+(var(--toast-index)*var(--toast-gap)*-1)+var(--toast-swipe-movement-y))]\",\r\n  ];\r\n\r\n  const positionClasses = [\r\n    \"absolute z-[calc(1000-var(--toast-index))] w-full\",\r\n    \"data-[position*=top]:top-0 data-[position*=top]:right-0 data-[position*=top]:left-0 data-[position*=top]:origin-top\",\r\n    \"data-[position*=bottom]:right-0 data-[position*=bottom]:bottom-0 data-[position*=bottom]:left-0 data-[position*=bottom]:origin-bottom\",\r\n  ];\r\n\r\n  const transformClasses = [\r\n    \"data-[position*=top]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+(var(--toast-index)*var(--toast-peek))+(var(--toast-shrink)*var(--toast-calc-height))))_scale(var(--toast-scale))]\",\r\n    \"data-[position*=bottom]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)-(var(--toast-index)*var(--toast-peek))-(var(--toast-shrink)*var(--toast-calc-height))))_scale(var(--toast-scale))]\",\r\n    \"data-expanded:h-(--toast-height)\",\r\n    \"data-position:data-expanded:transform-[translateX(var(--toast-swipe-movement-x))_translateY(var(--toast-calc-offset-y))]\",\r\n  ];\r\n\r\n  const animationClasses = [\r\n    \"data-[position*=top]:data-starting-style:transform-[translateY(calc(-100%-var(--toast-inset)))]\",\r\n    \"data-[position*=bottom]:data-starting-style:transform-[translateY(calc(100%+var(--toast-inset)))]\",\r\n    \"data-ending-style:opacity-0\",\r\n    \"data-ending-style:not-data-limited:not-data-swipe-direction:transform-[translateY(calc(100%+var(--toast-inset)))]\",\r\n    \"data-ending-style:data-[swipe-direction=down]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+100%+var(--toast-inset)))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=down]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+100%+var(--toast-inset)))]\",\r\n    \"data-ending-style:data-[swipe-direction=left]:transform-[translateX(calc(var(--toast-swipe-movement-x)-100%-var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=left]:transform-[translateX(calc(var(--toast-swipe-movement-x)-100%-var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-ending-style:data-[swipe-direction=right]:transform-[translateX(calc(var(--toast-swipe-movement-x)+100%+var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=right]:transform-[translateX(calc(var(--toast-swipe-movement-x)+100%+var(--toast-inset)))_translateY(var(--toast-calc-offset-y))]\",\r\n    \"data-ending-style:data-[swipe-direction=up]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)-100%-var(--toast-inset)))]\",\r\n    \"data-expanded:data-ending-style:data-[swipe-direction=up]:transform-[translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)-100%-var(--toast-inset)))]\",\r\n  ];\r\n\r\n  const visualClasses = [\r\n    \"rounded-lg border border-border bg-card text-card-foreground\",\r\n    \"bg-clip-padding shadow-lg select-none overflow-visible\",\r\n    'after:absolute after:left-0 after:h-[calc(var(--toast-gap)+1px)] after:w-full after:content-[\"\"]',\r\n    \"data-[position*=top]:after:bottom-full\",\r\n    \"data-[position*=bottom]:after:top-full\",\r\n    \"data-limited:opacity-0\",\r\n    \"h-(--toast-calc-height)\",\r\n    \"transition-[transform,opacity,height] duration-500 ease-[cubic-bezier(0.22,1,0.36,1)]\",\r\n  ];\r\n\r\n  return (\r\n    <Toast.Root\r\n      toast={toast}\r\n      swipeDirection={swipeDirection}\r\n      data-slot=\"toast\"\r\n      data-position={position}\r\n      className={cn(\r\n        cssVariables,\r\n        positionClasses,\r\n        transformClasses,\r\n        animationClasses,\r\n        visualClasses,\r\n      )}\r\n    >\r\n      <Toast.Content\r\n        data-slot=\"toast-content\"\r\n        className={cn(\r\n          \"text-sm\",\r\n          \"transition-opacity duration-250\",\r\n          \"data-behind:pointer-events-none data-behind:opacity-0\",\r\n          \"data-expanded:pointer-events-auto data-expanded:opacity-100\",\r\n        )}\r\n      >\r\n        <GroupedToastSummaryOrSingle\r\n          data={data}\r\n          toastId={toast.id}\r\n        />\r\n      </Toast.Content>\r\n      {/* Render expanded card outside Toast.Content to avoid clipping */}\r\n      {data.isExpanded && data.items.length > 1 && (\r\n        <GroupedToastCard data={data} isTop={isTop} />\r\n      )}\r\n    </Toast.Root>\r\n  );\r\n}\r\n\r\ninterface GroupedToastSummaryOrSingleProps {\r\n  data: GroupedToastData;\r\n  toastId: string;\r\n}\r\n\r\nfunction GroupedToastSummaryOrSingle({\r\n  data,\r\n  toastId,\r\n}: GroupedToastSummaryOrSingleProps) {\r\n  // Single item - render as normal toast content\r\n  if (data.items.length === 1) {\r\n    const item = data.items[0];\r\n    return <GroupedSingleItemContent item={item} />;\r\n  }\r\n\r\n  // Multiple items - render summary (card is rendered separately in parent)\r\n  return (\r\n    <GroupedToastSummaryContent\r\n      data={data}\r\n      onToggle={() => toggleGroupExpanded(toastId)}\r\n    />\r\n  );\r\n}\r\n\r\ninterface GroupedSingleItemContentProps {\r\n  item: GroupedToastItem;\r\n}\r\n\r\nfunction GroupedSingleItemContent({ item }: GroupedSingleItemContentProps) {\r\n  const type = item.type || \"default\";\r\n  const Icon =\r\n    type !== \"default\" ? TOAST_ICONS[type as keyof typeof TOAST_ICONS] : null;\r\n\r\n  return (\r\n    <div className=\"flex items-start gap-3 px-3.5 py-3\">\r\n      {Icon && (\r\n        <div data-slot=\"toast-icon\" className=\"[&>svg]:size-4 [&>svg]:shrink-0\">\r\n          <Icon\r\n            className={cn(\r\n              type === \"success\" && \"text-success-foreground\",\r\n              type === \"error\" && \"text-danger-foreground\",\r\n              type === \"warning\" && \"text-warning-foreground\",\r\n              type === \"info\" && \"text-info-foreground\",\r\n              type === \"loading\" && \"animate-spin text-muted-foreground\",\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"flex min-w-0 flex-1 flex-col gap-0.5\">\r\n        {item.title && (\r\n          <span className=\"text-sm font-medium leading-5\">{item.title}</span>\r\n        )}\r\n        {item.description && (\r\n          <span className=\"text-sm leading-5 text-muted-foreground\">\r\n            {item.description}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {item.action && (\r\n        <button\r\n          onClick={item.action.onClick}\r\n          className={buttonVariants({ variant: \"outline\", size: \"xs\" })}\r\n        >\r\n          {item.action.label}\r\n        </button>\r\n      )}\r\n      <Toast.Close\r\n        data-slot=\"toast-close\"\r\n        className=\"-mr-1 -mt-1 flex size-6 shrink-0 items-center justify-center rounded-md border-none bg-transparent text-muted-foreground transition-colors duration-200 hover:bg-accent/50 hover:text-foreground\"\r\n        aria-label=\"Close\"\r\n      >\r\n        <XIcon className=\"size-4\" />\r\n      </Toast.Close>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface GroupedToastSummaryContentProps {\r\n  data: GroupedToastData;\r\n  onToggle: () => void;\r\n}\r\n\r\nfunction GroupedToastSummaryContent({\r\n  data,\r\n  onToggle,\r\n}: GroupedToastSummaryContentProps) {\r\n  // Count items still in progress (loading)\r\n  const loadingCount = data.items.filter(\r\n    (item) => item.type === \"loading\",\r\n  ).length;\r\n  const hasLoadingItem = loadingCount > 0;\r\n  const iconType = hasLoadingItem ? \"loading\" : \"success\";\r\n  const Icon = TOAST_ICONS[iconType];\r\n\r\n  // Generate summary text - use loading count, not total count\r\n  const summaryText =\r\n    typeof data.summary === \"function\"\r\n      ? data.summary(loadingCount)\r\n      : data.summary;\r\n\r\n  const buttonLabel = data.isExpanded\r\n    ? data.action.expandedLabel\r\n    : data.action.label;\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-3 px-3.5 py-3\">\r\n      <div data-slot=\"toast-icon\" className=\"[&>svg]:size-4 [&>svg]:shrink-0\">\r\n        <Icon\r\n          className={cn(\r\n            iconType === \"loading\" && \"animate-spin text-muted-foreground\",\r\n            iconType === \"success\" && \"text-success-foreground\",\r\n          )}\r\n        />\r\n      </div>\r\n      <span className=\"flex-1 font-medium\">{summaryText}</span>\r\n      <button\r\n        onClick={onToggle}\r\n        className={buttonVariants({ variant: \"outline\", size: \"xs\" })}\r\n      >\r\n        {buttonLabel}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface GroupedToastCardProps {\r\n  data: GroupedToastData;\r\n  isTop: boolean;\r\n}\r\n\r\nfunction GroupedToastCard({ data, isTop }: GroupedToastCardProps) {\r\n  return (\r\n    <div\r\n      data-slot=\"grouped-toast-card\"\r\n      className={cn(\r\n        \"absolute w-full\",\r\n        isTop ? \"top-full mt-2\" : \"bottom-full mb-2\",\r\n        \"rounded-lg border border-border bg-card text-card-foreground\",\r\n        \"shadow-lg overflow-hidden\",\r\n        \"transition-all duration-200 ease-out\",\r\n        \"animate-in fade-in-0 zoom-in-95\",\r\n        isTop ? \"slide-in-from-top-2\" : \"slide-in-from-bottom-2\",\r\n      )}\r\n    >\r\n      <div className=\"max-h-64 overflow-y-auto\">\r\n        {data.items.map((item, index) => (\r\n          <GroupedToastCardItem\r\n            key={item.id}\r\n            item={item}\r\n            showSeparator={index > 0}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface GroupedToastCardItemProps {\r\n  item: GroupedToastItem;\r\n  showSeparator: boolean;\r\n}\r\n\r\nfunction GroupedToastCardItem({ item, showSeparator }: GroupedToastCardItemProps) {\r\n  const type = item.type || \"default\";\r\n  const Icon =\r\n    type !== \"default\" ? TOAST_ICONS[type as keyof typeof TOAST_ICONS] : null;\r\n\r\n  return (\r\n    <>\r\n      {showSeparator && (\r\n        <div className=\"h-px w-full bg-border\" data-slot=\"grouped-toast-separator\" />\r\n      )}\r\n      <div\r\n        data-slot=\"grouped-toast-card-item\"\r\n        className=\"flex items-center gap-3 px-3.5 py-3 text-sm\"\r\n      >\r\n        {Icon && (\r\n          <div data-slot=\"toast-icon\" className=\"[&>svg]:size-4 [&>svg]:shrink-0\">\r\n            <Icon\r\n              className={cn(\r\n                type === \"success\" && \"text-success-foreground\",\r\n                type === \"error\" && \"text-danger-foreground\",\r\n                type === \"warning\" && \"text-warning-foreground\",\r\n                type === \"info\" && \"text-info-foreground\",\r\n                type === \"loading\" && \"animate-spin text-muted-foreground\",\r\n              )}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"flex min-w-0 flex-1 flex-col gap-0.5\">\r\n          {item.title && (\r\n            <span className=\"font-medium leading-5\">{item.title}</span>\r\n          )}\r\n          {item.description && (\r\n            <span className=\"text-muted-foreground leading-5\">\r\n              {item.description}\r\n            </span>\r\n          )}\r\n        </div>\r\n        {item.action && (\r\n          <button\r\n            onClick={item.action.onClick}\r\n            className={buttonVariants({ variant: \"outline\", size: \"xs\" })}\r\n          >\r\n            {item.action.label}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// Utility Components\r\n// =============================================================================\r\n\r\nfunction XIcon(props: React.ComponentProps<\"svg\">) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"24\"\r\n      height=\"24\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      {...props}\r\n    >\r\n      <path d=\"M18 6 6 18\" />\r\n      <path d=\"m6 6 12 12\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// Exports\r\n// =============================================================================\r\n\r\nexport { Toast, toastManager, anchoredToastManager };\r\n",
      "type": "registry:ui",
      "target": "components/ui/cubby-ui/toast.tsx"
    }
  ]
}