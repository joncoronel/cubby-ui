{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "scroll-area",
  "type": "registry:ui",
  "title": "Scroll-area",
  "description": "A scroll-area component.",
  "files": [
    {
      "path": "registry/default/scroll-area/scroll-area.tsx",
      "content": "import * as React from \"react\";\r\nimport { ScrollArea as BaseScrollArea } from \"@base-ui/react/scroll-area\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport \"./scroll-area.css\";\r\n\r\ntype FadeEdge = \"top\" | \"bottom\" | \"left\" | \"right\" | \"x\" | \"y\";\r\ntype FadeEdges = boolean | FadeEdge | FadeEdge[];\r\n\r\nfunction parseFadeEdges(fadeEdges: FadeEdges): {\r\n  top: boolean;\r\n  bottom: boolean;\r\n  left: boolean;\r\n  right: boolean;\r\n} {\r\n  if (fadeEdges === true) {\r\n    return { top: true, bottom: true, left: true, right: true };\r\n  }\r\n  if (fadeEdges === false) {\r\n    return { top: false, bottom: false, left: false, right: false };\r\n  }\r\n\r\n  const edges = Array.isArray(fadeEdges) ? fadeEdges : [fadeEdges];\r\n  const result = { top: false, bottom: false, left: false, right: false };\r\n\r\n  for (const edge of edges) {\r\n    if (edge === \"x\") {\r\n      result.left = true;\r\n      result.right = true;\r\n    } else if (edge === \"y\") {\r\n      result.top = true;\r\n      result.bottom = true;\r\n    } else {\r\n      result[edge] = true;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\ntype OverscrollBehavior = \"auto\" | \"contain\" | \"none\";\r\n\r\ninterface ScrollAreaProps extends BaseScrollArea.Root.Props {\r\n  fadeEdges?: FadeEdges;\r\n  scrollbarGutter?: boolean;\r\n  persistScrollbar?: boolean;\r\n  hideScrollbar?: boolean;\r\n  nativeScroll?: boolean;\r\n  overscrollBehavior?: OverscrollBehavior;\r\n  /** Ref callback for the scrollable viewport element. Useful for virtualization. */\r\n  viewportRef?: (element: HTMLDivElement | null) => void;\r\n  /** Additional className for the viewport element */\r\n  viewportClassName?: string;\r\n}\r\n\r\nfunction ScrollArea({\r\n  className,\r\n  children,\r\n  fadeEdges = false,\r\n  scrollbarGutter = false,\r\n  persistScrollbar = false,\r\n  hideScrollbar = false,\r\n  nativeScroll = false,\r\n  overscrollBehavior = \"contain\",\r\n  viewportRef,\r\n  viewportClassName,\r\n  ...props\r\n}: ScrollAreaProps) {\r\n  if (process.env.NODE_ENV !== \"production\") {\r\n    if (persistScrollbar && hideScrollbar) {\r\n      console.error(\r\n        \"ScrollArea: `persistScrollbar` and `hideScrollbar` cannot be used together.\",\r\n      );\r\n    }\r\n    if (nativeScroll && persistScrollbar) {\r\n      console.error(\r\n        \"ScrollArea: `persistScrollbar` is not supported with `nativeScroll`.\",\r\n      );\r\n    }\r\n  }\r\n\r\n  if (nativeScroll) {\r\n    // NativeScrollArea only accepts string className, not the function variant from Base UI\r\n    const nativeClassName =\r\n      typeof className === \"string\" ? className : undefined;\r\n    return (\r\n      <NativeScrollArea\r\n        ref={viewportRef}\r\n        className={nativeClassName}\r\n        viewportClassName={viewportClassName}\r\n        fadeEdges={fadeEdges}\r\n        hideScrollbar={hideScrollbar}\r\n        scrollbarGutter={scrollbarGutter}\r\n        overscrollBehavior={overscrollBehavior}\r\n      >\r\n        {children}\r\n      </NativeScrollArea>\r\n    );\r\n  }\r\n\r\n  const fade = parseFadeEdges(fadeEdges);\r\n  const hasFade = fade.top || fade.bottom || fade.left || fade.right;\r\n\r\n  return (\r\n    <BaseScrollArea.Root\r\n      data-slot=\"scroll-area\"\r\n      className={cn(\"flex size-full min-h-0 flex-col\", className)}\r\n      {...props}\r\n    >\r\n      <BaseScrollArea.Viewport\r\n        ref={viewportRef}\r\n        data-slot=\"scroll-area-viewport\"\r\n        className={cn(\r\n          \"h-full rounded-[inherit]\",\r\n          \"focus-visible:outline-ring/50 outline-0 outline-offset-0 outline-transparent transition-[outline-width,outline-offset,outline-color] duration-100 ease-out outline-solid focus-visible:outline-2 focus-visible:outline-offset-2\",\r\n          hasFade && \"[--scroll-fade-size:1.5rem]\",\r\n          fade.top &&\r\n            \"mask-t-from-[calc(100%-min(var(--scroll-fade-size),var(--scroll-area-overflow-y-start,0px)))]\",\r\n          fade.bottom &&\r\n            \"mask-b-from-[calc(100%-min(var(--scroll-fade-size),var(--scroll-area-overflow-y-end,var(--scroll-fade-size))))]\",\r\n          fade.left &&\r\n            \"mask-l-from-[calc(100%-min(var(--scroll-fade-size),var(--scroll-area-overflow-x-start,0px)))]\",\r\n          fade.right &&\r\n            \"mask-r-from-[calc(100%-min(var(--scroll-fade-size),var(--scroll-area-overflow-x-end,var(--scroll-fade-size))))]\",\r\n          scrollbarGutter &&\r\n            \"data-has-overflow-x:pb-2.5 data-has-overflow-y:pe-2.5\",\r\n          overscrollBehavior === \"contain\" && \"overscroll-contain\",\r\n          overscrollBehavior === \"none\" && \"overscroll-none\",\r\n          viewportClassName,\r\n        )}\r\n      >\r\n        {children}\r\n      </BaseScrollArea.Viewport>\r\n      {!hideScrollbar && (\r\n        <>\r\n          <ScrollBar orientation=\"vertical\" persist={persistScrollbar} />\r\n          <ScrollBar orientation=\"horizontal\" persist={persistScrollbar} />\r\n          <BaseScrollArea.Corner />\r\n        </>\r\n      )}\r\n    </BaseScrollArea.Root>\r\n  );\r\n}\r\n\r\nfunction ScrollBar({\r\n  className,\r\n  persist = false,\r\n  ...props\r\n}: BaseScrollArea.Scrollbar.Props & { persist?: boolean }) {\r\n  return (\r\n    <BaseScrollArea.Scrollbar\r\n      data-slot=\"scroll-area-scrollbar\"\r\n      className={cn(\r\n        \"m-1 flex select-none\",\r\n        !persist &&\r\n          \"opacity-0 transition-opacity delay-200 data-hovering:opacity-100 data-hovering:delay-0 data-hovering:duration-100 data-scrolling:opacity-100 data-scrolling:delay-0 data-scrolling:duration-100\",\r\n        \"data-[orientation=vertical]:w-1.5\",\r\n        \"data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:flex-col\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <BaseScrollArea.Thumb\r\n        data-slot=\"scroll-area-thumb\"\r\n        className=\"bg-scrollbar relative flex-1 rounded-full\"\r\n      />\r\n    </BaseScrollArea.Scrollbar>\r\n  );\r\n}\r\n\r\n/**\r\n * Native scroll implementation using CSS scroll-driven animations for fade edges.\r\n * Uses browser's native scrolling with styled scrollbars.\r\n * Fade edges are animated based on scroll position (Chrome 115+, static fallback elsewhere).\r\n */\r\nfunction NativeScrollArea({\r\n  className,\r\n  viewportClassName,\r\n  children,\r\n  fadeEdges = false,\r\n  hideScrollbar = false,\r\n  scrollbarGutter = false,\r\n  overscrollBehavior,\r\n  ref,\r\n  style,\r\n  ...props\r\n}: Omit<\r\n  React.ComponentProps<\"div\">,\r\n  \"onScroll\" | \"onScrollCapture\" | \"onWheel\" | \"onWheelCapture\"\r\n> & {\r\n  fadeEdges?: FadeEdges;\r\n  hideScrollbar?: boolean;\r\n  scrollbarGutter?: boolean;\r\n  overscrollBehavior?: OverscrollBehavior;\r\n  viewportClassName?: string;\r\n  ref?: (element: HTMLDivElement | null) => void;\r\n}) {\r\n  const fade = parseFadeEdges(fadeEdges);\r\n  const hasFade = fade.top || fade.bottom || fade.left || fade.right;\r\n  const hasVerticalFade = fade.top || fade.bottom;\r\n  const hasHorizontalFade = fade.left || fade.right;\r\n\r\n  // Build animation styles for scroll-driven fade\r\n  const animationStyle: React.CSSProperties | undefined = hasFade\r\n    ? {\r\n        animationName: [\r\n          hasVerticalFade && \"scroll-fade-y\",\r\n          hasHorizontalFade && \"scroll-fade-x\",\r\n        ]\r\n          .filter(Boolean)\r\n          .join(\", \"),\r\n        animationTimeline: [\r\n          hasVerticalFade && \"scroll(y self)\",\r\n          hasHorizontalFade && \"scroll(x self)\",\r\n        ]\r\n          .filter(Boolean)\r\n          .join(\", \"),\r\n        animationTimingFunction: \"linear\",\r\n        animationFillMode: \"both\",\r\n      }\r\n    : undefined;\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      data-slot=\"scroll-area\"\r\n      data-native-scroll\r\n      className={cn(\r\n        \"size-full min-h-0 overflow-auto rounded-[inherit]\",\r\n        \"focus-visible:outline-ring/50 outline-0 outline-offset-0 outline-transparent transition-[outline-width,outline-offset,outline-color] duration-100 ease-out outline-solid focus-visible:outline-2 focus-visible:outline-offset-2\",\r\n        hasFade && \"[--scroll-fade-size:1.5rem]\",\r\n        // Native scroll uses scroll-driven animation CSS variables\r\n        // Fallbacks: top/left default to hidden (at start), bottom/right default to visible (more content)\r\n        fade.top &&\r\n          \"supports-[animation-timeline:scroll()]:mask-t-from-[calc(100%-var(--scroll-fade-top))]\",\r\n        fade.bottom &&\r\n          \"supports-[animation-timeline:scroll()]:mask-b-from-[calc(100%-var(--scroll-fade-bottom))]\",\r\n        fade.left &&\r\n          \"supports-[animation-timeline:scroll()]:mask-l-from-[calc(100%-var(--scroll-fade-left))]\",\r\n        fade.right &&\r\n          \"supports-[animation-timeline:scroll()]:mask-r-from-[calc(100%-var(--scroll-fade-right))]\",\r\n        hideScrollbar ? \"[scrollbar-width:none]\" : \"[scrollbar-width:thin]\",\r\n        scrollbarGutter && \"[scrollbar-gutter:stable]\",\r\n        \"[scrollbar-color:var(--color-scrollbar)_transparent]\",\r\n        overscrollBehavior === \"contain\" && \"overscroll-contain\",\r\n        overscrollBehavior === \"none\" && \"overscroll-none\",\r\n        className,\r\n        viewportClassName,\r\n      )}\r\n      style={{ ...animationStyle, ...style }}\r\n      tabIndex={0}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { ScrollArea };\r\nexport type { ScrollAreaProps, FadeEdges, FadeEdge, OverscrollBehavior };\r\n",
      "type": "registry:ui",
      "target": "components/ui/cubby-ui/scroll-area.tsx"
    },
    {
      "path": "registry/default/scroll-area/scroll-area.css",
      "content": "/* -------------------------------------------------------------------------------------------------\r\n * Scroll-Driven Animations for Native Scroll Fade Edges (Progressive Enhancement)\r\n * Chrome 115+, Safari 26+ (future), Firefox flag-only\r\n * Fallback: Static fades (always visible where configured)\r\n * -------------------------------------------------------------------------------------------------*/\r\n\r\n/* Animatable custom properties for fade amounts */\r\n@property --scroll-fade-top {\r\n  syntax: \"<length>\";\r\n  inherits: false;\r\n  initial-value: 0px;\r\n}\r\n\r\n@property --scroll-fade-bottom {\r\n  syntax: \"<length>\";\r\n  inherits: false;\r\n  initial-value: 0px;\r\n}\r\n\r\n@property --scroll-fade-left {\r\n  syntax: \"<length>\";\r\n  inherits: false;\r\n  initial-value: 0px;\r\n}\r\n\r\n@property --scroll-fade-right {\r\n  syntax: \"<length>\";\r\n  inherits: false;\r\n  initial-value: 0px;\r\n}\r\n\r\n/**\r\n * Vertical scroll fade animation\r\n * Uses small percentages (2%) so fade completes quickly:\r\n * - 500px content: ~10px to complete fade\r\n * - 2000px content: ~40px to complete fade\r\n *\r\n * Note: Unlike Base UI which uses pixel-based CSS variables, scroll-driven\r\n * animations are percentage-based. This is a tradeoff for native scroll support.\r\n */\r\n@keyframes scroll-fade-y {\r\n  0% {\r\n    --scroll-fade-top: 0px;\r\n    --scroll-fade-bottom: var(--scroll-fade-size);\r\n  }\r\n  2% {\r\n    --scroll-fade-top: var(--scroll-fade-size);\r\n  }\r\n  98% {\r\n    --scroll-fade-bottom: var(--scroll-fade-size);\r\n  }\r\n  100% {\r\n    --scroll-fade-top: var(--scroll-fade-size);\r\n    --scroll-fade-bottom: 0px;\r\n  }\r\n}\r\n\r\n/**\r\n * Horizontal scroll fade animation\r\n * Same logic as vertical but for left/right\r\n */\r\n@keyframes scroll-fade-x {\r\n  0% {\r\n    --scroll-fade-left: 0px;\r\n    --scroll-fade-right: var(--scroll-fade-size);\r\n  }\r\n  2% {\r\n    --scroll-fade-left: var(--scroll-fade-size);\r\n  }\r\n  98% {\r\n    --scroll-fade-right: var(--scroll-fade-size);\r\n  }\r\n  100% {\r\n    --scroll-fade-left: var(--scroll-fade-size);\r\n    --scroll-fade-right: 0px;\r\n  }\r\n}\r\n",
      "type": "registry:file",
      "target": "components/ui/cubby-ui/scroll-area.css"
    }
  ]
}