{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-animated-height",
  "type": "registry:hook",
  "title": "useAnimatedHeight",
  "description": "A custom React hook for animated height.",
  "files": [
    {
      "path": "registry/default/hooks/use-animated-height.ts",
      "content": "import { useCallback, useRef } from \"react\";\r\n\r\nconst MIN_FADE_DURATION = 0.15;\r\nconst MAX_FADE_DURATION = 0.27;\r\n\r\nexport function useAnimatedHeight() {\r\n  const outerRef = useRef<HTMLDivElement>(null);\r\n  const observerRef = useRef<ResizeObserver | null>(null);\r\n  const previousHeight = useRef(0);\r\n\r\n  const innerRef = useCallback((node: HTMLDivElement | null) => {\r\n    if (observerRef.current) {\r\n      observerRef.current.disconnect();\r\n      observerRef.current = null;\r\n    }\r\n\r\n    if (!node) return;\r\n\r\n    const observer = new ResizeObserver((entries) => {\r\n      const outer = outerRef.current;\r\n      if (!outer) return;\r\n      const height = entries[0].target.getBoundingClientRect().height;\r\n      if (height > 0) {\r\n        const diff = Math.abs(height - previousHeight.current);\r\n        previousHeight.current = height;\r\n        const fadeDuration = Math.min(\r\n          Math.max(diff / 500, MIN_FADE_DURATION),\r\n          MAX_FADE_DURATION,\r\n        );\r\n\r\n        outer.style.height = `${height}px`;\r\n        outer.style.setProperty(\"--fade-duration\", `${fadeDuration}s`);\r\n      }\r\n    });\r\n\r\n    observer.observe(node);\r\n    observerRef.current = observer;\r\n  }, []);\r\n\r\n  return { outerRef, innerRef };\r\n}\r\n",
      "type": "registry:hook",
      "target": "hooks/cubby-ui/use-animated-height.ts"
    }
  ]
}