---
title: Command
description: Fast, composable command menu for keyboard-first navigation and actions
---

## Preview

<ComponentPreview component="command" example="command-basic-command-menu" />

## Installation

<ComponentInstall component="command" />

## Usage

<ComponentUsage component="command" />

## Examples

### Command Dialog

Display command menu in a modal dialog with keyboard shortcut support.

<ComponentPreview component="command" example="command-command-dialog" />

### With Footer

Add footer content with keyboard navigation hints.

<ComponentPreview component="command" example="command-with-footer" />

### Fuzzy Search

Enable fuzzy matching for more flexible searching across multiple fields.

<ComponentPreview component="command" example="command-fuzzy" />

## API Reference

The Command component is built on top of [Base UI's Autocomplete](https://base-ui.com/react/components/autocomplete) and [Dialog](https://base-ui.com/react/components/dialog). All Base UI props are supported. The documentation below only covers custom props and modified defaults specific to our implementation.

For the complete Base UI API, see the [Base UI Autocomplete documentation](https://base-ui.com/react/components/autocomplete).

### Props

#### Command

Root component that manages command menu state and keyboard navigation. Wraps Base UI's `Autocomplete.Root`.

<ApiPropsList>

<ApiProp name="items" fullType="T[] | { items: T[] }[]" simpleType="array" defaultValue="[]">
  Array of items or grouped items to display. Used with the collection pattern where `CommandList`, `CommandGroup`, and `CommandCollection` receive render functions as children.
</ApiProp>

<ApiProp name="autoHighlight" fullType='boolean | "always"' defaultValue='"always"'>
  Whether the first matching item is highlighted automatically. Set to `"always"` to ensure an item is always highlighted during keyboard navigation. Base UI defaults to `false`.
</ApiProp>

<ApiProp name="open" fullType="boolean" defaultValue="true">
  Keeps the autocomplete list always open. Appropriate for command menu behavior where the list is always visible. Base UI defaults to `false`.
</ApiProp>

<ApiProp name="keepHighlight" fullType="boolean" defaultValue="true">
  Whether the highlighted item should be preserved when the pointer leaves the list. Prevents the highlight from going to a "null" state during navigation. Base UI defaults to `false`.
</ApiProp>

</ApiPropsList>

#### CommandList

Scrollable container for command items with empty state handling. Wraps Base UI's `Autocomplete.List`.

<ApiPropsList>

<ApiProp name="emptyMessage" fullType="ReactNode" simpleType="node" defaultValue='"No results found."'>
  Custom prop not available in Base UI. Message shown when no results are found in the command list.
</ApiProp>

<ApiProp
  name="nativeScroll"
  fullType="boolean"
  defaultValue="false"
>
  Use native browser scrolling with styled scrollbars instead of Base UI's scroll virtualization. Enables CSS scroll-driven animations for fade edges.
</ApiProp>

<ApiProp
  name="fadeEdges"
  fullType="boolean | 'top' | 'bottom' | 'left' | 'right' | 'x' | 'y' | FadeEdge[]"
  defaultValue="true"
>
  Controls the fade effect on scroll edges. See [ScrollArea](/docs/components/scroll-area#custom-props) for all options.
</ApiProp>

<ApiProp
  name="scrollbarGutter"
  fullType="boolean"
  defaultValue="false"
>
  Reserves space for the scrollbar when content overflows, preventing layout shift.
</ApiProp>

<ApiProp
  name="persistScrollbar"
  fullType="boolean"
  defaultValue="false"
>
  Always show the scrollbar instead of fading it in on hover or scroll.
</ApiProp>

<ApiProp
  name="hideScrollbar"
  fullType="boolean"
  defaultValue="false"
>
  Hides the scrollbar while keeping scroll functionality.
</ApiProp>

</ApiPropsList>

### Utilities

#### highlightText

```ts
function highlightText(text: string, query: string): ReactNode
```

Highlights matching portions of text by wrapping them in `<mark>` tags. Useful for showing which parts of a command match the user's input.

**Parameters**

<ApiPropsList>

<ApiProp name="text" fullType="string">
  The text to highlight matches in.
</ApiProp>

<ApiProp name="query" fullType="string">
  The search query to match against.
</ApiProp>

</ApiPropsList>

**Returns:** `ReactNode` with matched portions wrapped in styled `<mark>` elements.

```tsx
import { highlightText } from "@/lib/cubby-ui/highlight-text";

<CommandItem>
  {highlightText(item.label, query)}
</CommandItem>
```

### Hooks

#### useFuzzyFilter

```ts
function useFuzzyFilter<T>(options: UseFuzzyFilterOptions): {
  filter: (items: T[], query: string) => T[];
  filterItem: (item: T, query: string) => boolean;
}
```

Provides fuzzy matching capabilities using [match-sorter](https://github.com/kentcdodds/match-sorter). Returns filter functions compatible with Base UI's Autocomplete.

**Options**

<ApiPropsList>

<ApiProp
  name="keys"
  fullType='Array<string | { key: string; threshold?: FuzzyThreshold }>'
>
  Properties to search on. Can specify per-key thresholds for fine-grained control.
</ApiProp>

<ApiProp
  name="threshold"
  fullType="FuzzyThreshold"
  defaultValue='"matches"'
>
  Minimum ranking for a match. Values from strictest to loosest:

  - `"case-sensitive-equal"` - exact match, case sensitive
  - `"equal"` - exact match, case insensitive
  - `"starts-with"` - query at start of string
  - `"word-starts-with"` - query at start of any word
  - `"contains"` - query anywhere in string
  - `"acronym"` - matches acronyms (e.g., "rhl" â†’ "React Hooks Library")
  - `"matches"` - very fuzzy (default)
</ApiProp>

</ApiPropsList>

**Returns**

| Property | Type | Description |
|----------|------|-------------|
| `filter` | `(items: T[], query: string) => T[]` | Filters and sorts an array of items by relevance |
| `filterItem` | `(item: T, query: string) => boolean` | Checks if a single item matches. Use with Base UI's `filter` prop |

```tsx
import { useFuzzyFilter } from "@/hooks/cubby-ui/use-fuzzy-filter";

const { filterItem } = useFuzzyFilter<CommandItemData>({
  keys: ["label", "description"],
  threshold: "contains",
});

// Use with Command
<Command filter={filterItem}>
  ...
</Command>
```

For relevance sorting, use `filter` with controlled value:

```tsx
const { filter } = useFuzzyFilter<CommandItemData>({
  keys: ["label"],
});

const [query, setQuery] = useState("");
const filteredItems = filter(items, query);

<Command
  items={filteredItems}
  value={query}
  onValueChange={setQuery}
  filter={null}
>
  ...
</Command>
```

