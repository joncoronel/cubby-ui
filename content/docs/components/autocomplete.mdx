---
title: Autocomplete
description: Text input with intelligent suggestions and auto-completion functionality
---

import { Autocomplete } from "@/registry/default/autocomplete/autocomplete";

## Preview

<ComponentPreview component="autocomplete" example="autocomplete-basic" />

## Installation

<ComponentInstall component="autocomplete" />

## Usage

<ComponentUsage component="autocomplete" />

## Examples

### Async Loading

Fetch suggestions asynchronously from an API.

<ComponentPreview component="autocomplete" example="autocomplete-async" />

### Auto Highlight

Automatically highlight the first suggestion.

<ComponentPreview
  component="autocomplete"
  example="autocomplete-auto-highlight"
/>

### Clearable Input

Add a clear button to reset the input value.

<ComponentPreview component="autocomplete" example="autocomplete-clear" />

### Fuzzy Search

Enable fuzzy matching for more flexible searching.

<ComponentPreview component="autocomplete" example="autocomplete-fuzzy" />

### Grouped Options

Organize suggestions into categories.

<ComponentPreview component="autocomplete" example="autocomplete-grouped" />

### Inline Suggestions

Display suggestions inline within the input.

<ComponentPreview component="autocomplete" example="autocomplete-inline" />

### Limited Results

Limit the number of displayed suggestions.

<ComponentPreview component="autocomplete" example="autocomplete-limit" />

### Virtualized

Use virtualization for large lists (100+ items) to maintain smooth performance. Only renders items visible in the viewport, dramatically reducing DOM nodes.

<ComponentPreview component="autocomplete" example="autocomplete-virtualized" />

**Key concepts:**

1. **Use `useListVirtualizer` hook** - Handles scroll positioning, keyboard navigation, and item measurement. See [useListVirtualizer docs](/docs/hooks/use-list-virtualizer) for full API reference.
2. **Use `useAutocompleteFilteredItems()` inside Root** - Call `useAutocompleteFilteredItems()` in a child component of `AutocompleteRoot` to get internally filtered items without manual filtering boilerplate.
3. **Replace `AutocompleteList` with `AutocompleteVirtualizedList`** - Accepts `scrollRef` and `totalSize` from the hook.
4. **Pass `virtualized` and `items` on Root** - Enables virtualized mode with your full item list.
5. **Use `useHighlightHandler`** - Pass a `virtualizerRef` to the child and use `useHighlightHandler(virtualizerRef)` on Root so keyboard navigation scrolls to the highlighted item.
6. **Override item margins** - Pass `className="mt-0! mb-0!"` to `AutocompleteItem` since virtualized items are absolutely positioned and the virtualizer handles padding.

> **Manual filtering still works** â€” If you need custom filter logic (fuzzy search, server-side filtering), you can still compute `filteredItems` externally, pass `filter={null}` to `Autocomplete.Root`, and spread `rootProps` from `useListVirtualizer`. See [useAutocompleteFilter](#useautocompletefilter).

## API Reference

The Autocomplete component is built on top of [Base UI's Autocomplete](https://base-ui.com/react/components/autocomplete). All Base UI props are supported. The documentation below only covers custom props and modified defaults specific to our implementation.

For the complete Base UI API, see the [Base UI Autocomplete documentation](https://base-ui.com/react/components/autocomplete).

### Props

#### AutocompletePositioner

Positions the suggestions dropdown relative to the input. Wraps Base UI's `Autocomplete.Positioner`.

<ApiPropsList>

<ApiProp name="sideOffset" fullType="number" defaultValue="6">
  Distance between the trigger and the popup. Base UI defaults to `0`.
</ApiProp>

</ApiPropsList>

#### AutocompleteList

Scrollable container for suggestion items. Wraps Base UI's `Autocomplete.List`.

<ApiPropsList>

<ApiProp name="nativeScroll" fullType="boolean" defaultValue="false">
  Use native browser scrolling with styled scrollbars instead of Base UI's
  scroll virtualization. Enables CSS scroll-driven animations for fade edges.
</ApiProp>

<ApiProp
  name="fadeEdges"
  fullType="boolean | 'top' | 'bottom' | 'left' | 'right' | 'x' | 'y' | FadeEdge[]"
  defaultValue="true"
>
  Controls the fade effect on scroll edges. See
  [ScrollArea](/docs/components/scroll-area#custom-props) for all options.
</ApiProp>

<ApiProp name="scrollbarGutter" fullType="boolean" defaultValue="false">
  Reserves space for the scrollbar when content overflows, preventing layout
  shift.
</ApiProp>

<ApiProp name="persistScrollbar" fullType="boolean" defaultValue="false">
  Always show the scrollbar instead of fading it in on hover or scroll.
</ApiProp>

<ApiProp name="hideScrollbar" fullType="boolean" defaultValue="false">
  Hides the scrollbar while keeping scroll functionality.
</ApiProp>

</ApiPropsList>

#### AutocompleteVirtualizedList

Virtualized scrollable container for large lists. Use with `useListVirtualizer` hook for optimal performance with 100+ items.

<ApiPropsList>

<ApiProp
  name="scrollRef"
  fullType="(element: HTMLDivElement | null) => void"
  required
>
  Ref callback from `useListVirtualizer` for the scroll container.
</ApiProp>

<ApiProp name="totalSize" fullType="number" required>
  Total height of all virtual items in pixels. Provided by `useListVirtualizer`.
</ApiProp>

<ApiProp
  name="emptyMessage"
  fullType="ReactNode"
  simpleType="node"
  defaultValue='"No results found."'
>
  Message shown when no results are found.
</ApiProp>

<ApiProp
  name="fadeEdges"
  fullType="boolean | 'x' | 'y' | FadeEdge[]"
  defaultValue='"y"'
>
  Controls the fade effect on scroll edges.
</ApiProp>

<ApiProp name="nativeScroll" fullType="boolean" defaultValue="false">
  Use native browser scrolling instead of custom scrollbars. Recommended for
  best virtualization performance.
</ApiProp>

</ApiPropsList>

### Utilities

#### highlightText

Highlights matching portions of text by wrapping them in `<mark>` tags. Useful for showing which parts of a suggestion match the user's input.

See [highlightText](/docs/utils/highlight-text) for full documentation and API reference.

### Hooks

#### useAutocompleteFilter

```ts
function useAutocompleteFilter(): {
  contains: (
    item: T,
    query: string,
    getItemLabel: (item: T) => string,
  ) => boolean;
  startsWith: (
    item: T,
    query: string,
    getItemLabel: (item: T) => string,
  ) => boolean;
  endsWith: (
    item: T,
    query: string,
    getItemLabel: (item: T) => string,
  ) => boolean;
};
```

Exposes Base UI's built-in filter matchers for external filtering. Required when using virtualization since you must compute `filteredItems` yourself.

**Returns**

| Property     | Type                                     | Description                                                  |
| ------------ | ---------------------------------------- | ------------------------------------------------------------ |
| `contains`   | `(item, query, getItemLabel) => boolean` | Returns true if item label contains query (case-insensitive) |
| `startsWith` | `(item, query, getItemLabel) => boolean` | Returns true if item label starts with query                 |
| `endsWith`   | `(item, query, getItemLabel) => boolean` | Returns true if item label ends with query                   |

```tsx
import { useAutocompleteFilter } from "@/registry/default/autocomplete/autocomplete";

const { contains } = useAutocompleteFilter();
const getItemLabel = (item: Item | null) => item?.name ?? "";

const filteredItems = useMemo(
  () => items.filter((item) => contains(item, query, getItemLabel)),
  [contains, query],
);
```

#### useAutocompleteFilteredItems

```ts
function useAutocompleteFilteredItems<T>(): T[];
```

Returns the internally filtered items from the Autocomplete Root. Must be called inside `AutocompleteRoot`. Simplifies virtualized implementations by eliminating the need for manual query state, `useDeferredValue`, `useFilter()`, and `useMemo` filtering.

```tsx
import { useAutocompleteFilteredItems } from "@/registry/default/autocomplete/autocomplete";

function VirtualizedListContent() {
  // Must be called inside AutocompleteRoot
  const filteredItems = useAutocompleteFilteredItems<MyItem>();

  const virtualizer = useListVirtualizer({
    items: allItems,
    filteredItems,
  });
  // ...
}
```

#### useFuzzyFilter

Provides fuzzy matching capabilities for flexible searching across multiple fields. Returns filter functions compatible with Base UI's Autocomplete.

See [useFuzzyFilter](/docs/hooks/use-fuzzy-filter) for full documentation and API reference.

#### useListVirtualizer

Provides virtualization for large autocomplete lists using TanStack Virtual. Abstracts scroll handling, item positioning, and keyboard navigation.

See [useListVirtualizer](/docs/hooks/use-list-virtualizer) for full documentation and API reference.
