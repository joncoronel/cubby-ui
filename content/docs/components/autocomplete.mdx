---
title: Autocomplete
description: Text input with intelligent suggestions and auto-completion functionality
---

import { Autocomplete } from "@/registry/default/autocomplete/autocomplete";

## Preview

<ComponentPreview component="autocomplete" example="autocomplete-basic" />

## Installation

<ComponentInstall component="autocomplete" />

## Usage

<ComponentUsage component="autocomplete" />

## Examples

### Async Loading

Fetch suggestions asynchronously from an API.

<ComponentPreview component="autocomplete" example="autocomplete-async" />

### Auto Highlight

Automatically highlight the first suggestion.

<ComponentPreview component="autocomplete" example="autocomplete-auto-highlight" />

### Clearable Input

Add a clear button to reset the input value.

<ComponentPreview component="autocomplete" example="autocomplete-clear" />

### Fuzzy Search

Enable fuzzy matching for more flexible searching.

<ComponentPreview component="autocomplete" example="autocomplete-fuzzy" />

### Grouped Options

Organize suggestions into categories.

<ComponentPreview component="autocomplete" example="autocomplete-grouped" />

### Inline Suggestions

Display suggestions inline within the input.

<ComponentPreview component="autocomplete" example="autocomplete-inline" />

### Limited Results

Limit the number of displayed suggestions.

<ComponentPreview component="autocomplete" example="autocomplete-limit" />

## API Reference

The Autocomplete component is built on top of [Base UI's Autocomplete](https://base-ui.com/react/components/autocomplete). All Base UI props are supported. The documentation below only covers custom props and modified defaults specific to our implementation.

For the complete Base UI API, see the [Base UI Autocomplete documentation](https://base-ui.com/react/components/autocomplete).

### Props

#### AutocompletePositioner

Positions the suggestions dropdown relative to the input. Wraps Base UI's `Autocomplete.Positioner`.

<ApiPropsList>

<ApiProp
  name="sideOffset"
  fullType="number"
  defaultValue="6"
>
  Distance between the trigger and the popup. Base UI defaults to `0`.
</ApiProp>

</ApiPropsList>

#### AutocompleteList

Scrollable container for suggestion items. Wraps Base UI's `Autocomplete.List`.

<ApiPropsList>

<ApiProp
  name="nativeScroll"
  fullType="boolean"
  defaultValue="false"
>
  Use native browser scrolling with styled scrollbars instead of Base UI's scroll virtualization. Enables CSS scroll-driven animations for fade edges.
</ApiProp>

<ApiProp
  name="fadeEdges"
  fullType="boolean | 'top' | 'bottom' | 'left' | 'right' | 'x' | 'y' | FadeEdge[]"
  defaultValue="true"
>
  Controls the fade effect on scroll edges. See [ScrollArea](/docs/components/scroll-area#custom-props) for all options.
</ApiProp>

<ApiProp
  name="scrollbarGutter"
  fullType="boolean"
  defaultValue="false"
>
  Reserves space for the scrollbar when content overflows, preventing layout shift.
</ApiProp>

<ApiProp
  name="persistScrollbar"
  fullType="boolean"
  defaultValue="false"
>
  Always show the scrollbar instead of fading it in on hover or scroll.
</ApiProp>

<ApiProp
  name="hideScrollbar"
  fullType="boolean"
  defaultValue="false"
>
  Hides the scrollbar while keeping scroll functionality.
</ApiProp>

</ApiPropsList>

### Utilities

#### highlightText

```ts
function highlightText(text: string, query: string): ReactNode
```

Highlights matching portions of text by wrapping them in `<mark>` tags. Useful for showing which parts of a suggestion match the user's input.

| Parameter | Type | Description |
|-----------|------|-------------|
| `text` | `string` | The text to highlight matches in |
| `query` | `string` | The search query to match against |

**Returns:** `ReactNode` with matched portions wrapped in styled `<mark>` elements.

```tsx
import { highlightText } from "@/lib/cubby-ui/highlight-text";

<Autocomplete.Item>
  {highlightText(item.label, inputValue)}
</Autocomplete.Item>
```

### Hooks

#### useFuzzyFilter

```ts
function useFuzzyFilter<T>(options: UseFuzzyFilterOptions): {
  filter: (items: T[], query: string) => T[];
  filterItem: (item: T, query: string) => boolean;
}
```

Provides fuzzy matching capabilities using [match-sorter](https://github.com/kentcdodds/match-sorter). Returns filter functions compatible with Base UI's Autocomplete.

**Options**

| Property | Type | Description |
|----------|------|-------------|
| `keys` | `Array<string \| { key: string; threshold?: RankingValue }>` | Properties to search on. Can specify per-key thresholds. |
| `threshold` | `RankingValue` | Minimum ranking for a match. Defaults to `MATCHES`. |

**Returns**

| Property | Type | Description |
|----------|------|-------------|
| `filter` | `(items: T[], query: string) => T[]` | Filters and sorts items by relevance |
| `filterItem` | `(item: T, query: string) => boolean` | Checks if a single item matches |

**Additional Exports**

- `fuzzyRankings` - Re-export of `matchSorter.rankings` for setting thresholds

```tsx
import { useFuzzyFilter, fuzzyRankings } from "@/hooks/cubby-ui/use-fuzzy-filter";

const { filter } = useFuzzyFilter<Item>({
  keys: ["label", "description"],
  threshold: fuzzyRankings.CONTAINS,
});

// Use with Autocomplete
<Autocomplete.Root filterOptions={filter}>
  ...
</Autocomplete.Root>
```
