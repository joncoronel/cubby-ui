{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "timeline",
  "type": "registry:ui",
  "title": "Timeline",
  "description": "A timeline component.",
  "dependencies": [
    "class-variance-authority"
  ],
  "files": [
    {
      "path": "registry/default/timeline/timeline.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { mergeProps } from \"@base-ui-components/react/merge-props\";\r\nimport { useRender } from \"@base-ui-components/react/use-render\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Variants\r\nconst timelineVariants = cva(\"group/timeline flex\", {\r\n  variants: {\r\n    orientation: {\r\n      horizontal: \"w-full flex-row\",\r\n      vertical: \"flex-col\",\r\n    },\r\n  },\r\n  defaultVariants: {\r\n    orientation: \"vertical\",\r\n  },\r\n});\r\n\r\nconst timelineIndicatorVariants = cva(\r\n  \"absolute flex items-center justify-center rounded-full border-2 transition-all duration-200 size-6\",\r\n  {\r\n    variants: {\r\n      state: {\r\n        pending: \"border-border/80 bg-input shadow-[0_1px_2px_0_oklch(0.18_0_0_/_0.08)]\",\r\n        current:\r\n          \"border-primary bg-primary/5 ring-2 ring-primary/20 ring-offset-2 ring-offset-background shadow-[0_1px_2px_0_oklch(0.18_0_0_/_0.08)]\",\r\n        completed:\r\n          \"border-primary bg-primary text-primary-foreground shadow-[0_1px_2px_0_oklch(0.18_0_0_/_0.08)]\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      state: \"pending\",\r\n    },\r\n  },\r\n);\r\n\r\nconst timelineSeparatorVariants = cva(\r\n  \"absolute bg-border transition-all duration-200 group-last/timeline-item:hidden\",\r\n  {\r\n    variants: {\r\n      orientation: {\r\n        horizontal: \"h-0.5 w-[calc(100%-2rem)] -top-6 left-7 -translate-y-1/2\",\r\n        vertical: \"w-0.5 h-[calc(100%-2rem)] -left-6 top-7 -translate-x-1/2\",\r\n      },\r\n      state: {\r\n        pending: \"bg-border\",\r\n        completed: \"bg-primary/40\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      orientation: \"vertical\",\r\n      state: \"pending\",\r\n    },\r\n  },\r\n);\r\n\r\n// Types\r\ntype TimelineContextValue = {\r\n  activeStep: number;\r\n  setActiveStep: (step: number) => void;\r\n  orientation: \"horizontal\" | \"vertical\";\r\n};\r\n\r\n// Context\r\nconst TimelineContext = React.createContext<TimelineContextValue | undefined>(\r\n  undefined,\r\n);\r\n\r\nconst TimelineItemContext = React.createContext<{ step: number } | undefined>(\r\n  undefined,\r\n);\r\n\r\nconst useTimeline = () => {\r\n  const context = React.useContext(TimelineContext);\r\n  if (!context) {\r\n    throw new Error(\"useTimeline must be used within a Timeline\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// Base render function type\r\ntype RenderFunction<T> = (\r\n  props: T,\r\n  ref: React.Ref<HTMLElement>,\r\n) => React.ReactElement | null;\r\n\r\n// Components\r\ninterface TimelineProps\r\n  extends useRender.ComponentProps<\"div\">,\r\n    VariantProps<typeof timelineVariants> {\r\n  defaultValue?: number;\r\n  value?: number;\r\n  onValueChange?: (value: number) => void;\r\n}\r\n\r\nfunction Timeline({\r\n  defaultValue = 1,\r\n  value,\r\n  onValueChange,\r\n  orientation = \"vertical\",\r\n  className,\r\n  render,\r\n  ...props\r\n}: TimelineProps) {\r\n  const [activeStep, setInternalStep] = React.useState(defaultValue);\r\n\r\n  const setActiveStep = React.useCallback(\r\n    (step: number) => {\r\n      if (value === undefined) {\r\n        setInternalStep(step);\r\n      }\r\n      onValueChange?.(step);\r\n    },\r\n    [value, onValueChange],\r\n  );\r\n\r\n  const currentStep = value ?? activeStep;\r\n\r\n  const defaultProps = {\r\n    className: cn(\r\n      timelineVariants({ orientation: orientation || \"vertical\" }),\r\n      className,\r\n    ),\r\n    \"data-orientation\": orientation,\r\n    \"data-slot\": \"timeline\",\r\n  };\r\n\r\n  const element = useRender({\r\n    defaultTagName: 'div',\r\n    render: render,\r\n    props: mergeProps<'div'>(defaultProps, props),\r\n  });\r\n\r\n  return (\r\n    <TimelineContext.Provider\r\n      value={{\r\n        activeStep: currentStep,\r\n        setActiveStep,\r\n        orientation: orientation || \"vertical\",\r\n      }}\r\n    >\r\n      {element}\r\n    </TimelineContext.Provider>\r\n  );\r\n}\r\n\r\n// TimelineContent\r\ninterface TimelineContentProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLDivElement>>;\r\n}\r\n\r\nfunction TimelineContent({\r\n  className,\r\n  render,\r\n  ...props\r\n}: TimelineContentProps) {\r\n  const contentProps = mergeProps(props, {\r\n    className: cn(\"text-muted-foreground text-sm leading-relaxed\", className),\r\n    \"data-slot\": \"timeline-content\",\r\n  });\r\n\r\n  return render ? (\r\n    render(contentProps, React.createRef())\r\n  ) : (\r\n    <div {...contentProps} />\r\n  );\r\n}\r\n\r\n// TimelineDate\r\ninterface TimelineDateProps extends React.HTMLAttributes<HTMLTimeElement> {\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLTimeElement>>;\r\n}\r\n\r\nfunction TimelineDate({ className, render, ...props }: TimelineDateProps) {\r\n  const dateProps = mergeProps(props, {\r\n    className: cn(\r\n      \"text-muted-foreground mb-1 block text-xs font-medium tabular-nums\",\r\n      className,\r\n    ),\r\n    \"data-slot\": \"timeline-date\",\r\n  });\r\n\r\n  return render ? (\r\n    render(dateProps, React.createRef())\r\n  ) : (\r\n    <time {...dateProps} />\r\n  );\r\n}\r\n\r\n// TimelineHeader\r\ninterface TimelineHeaderProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLDivElement>>;\r\n}\r\n\r\nfunction TimelineHeader({ className, render, ...props }: TimelineHeaderProps) {\r\n  const headerProps = mergeProps(props, {\r\n    className: cn(className),\r\n    \"data-slot\": \"timeline-header\",\r\n  });\r\n\r\n  return render ? (\r\n    render(headerProps, React.createRef())\r\n  ) : (\r\n    <div {...headerProps} />\r\n  );\r\n}\r\n\r\n// TimelineIndicator\r\ninterface TimelineIndicatorProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLDivElement>>;\r\n}\r\n\r\nfunction TimelineIndicator({\r\n  className,\r\n  children,\r\n  render,\r\n  ...props\r\n}: TimelineIndicatorProps) {\r\n  const { orientation, activeStep } = useTimeline();\r\n  const currentItem = React.useContext(TimelineItemContext);\r\n\r\n  const state = currentItem\r\n    ? currentItem.step < activeStep\r\n      ? \"completed\"\r\n      : currentItem.step === activeStep\r\n        ? \"current\"\r\n        : \"pending\"\r\n    : \"pending\";\r\n\r\n  const indicatorProps = mergeProps(props, {\r\n    className: cn(\r\n      timelineIndicatorVariants({ state }),\r\n      (orientation || \"vertical\") === \"horizontal\"\r\n        ? \"-top-6 left-0 -translate-y-1/2\"\r\n        : \"top-0 -left-6 -translate-x-1/2\",\r\n      className,\r\n    ),\r\n    \"aria-hidden\": \"true\",\r\n    \"data-slot\": \"timeline-indicator\",\r\n    \"data-state\": state,\r\n  });\r\n\r\n  return render ? (\r\n    render(indicatorProps, React.createRef())\r\n  ) : (\r\n    <div {...indicatorProps}>{children}</div>\r\n  );\r\n}\r\n\r\n// TimelineItem\r\ninterface TimelineItemProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  step: number;\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLDivElement>>;\r\n}\r\n\r\nfunction TimelineItem({\r\n  step,\r\n  className,\r\n  render,\r\n  ...props\r\n}: TimelineItemProps) {\r\n  const { activeStep, orientation } = useTimeline();\r\n  const isCompleted = step <= activeStep;\r\n  const isCurrent = step === activeStep;\r\n\r\n  const itemProps = mergeProps(props, {\r\n    className: cn(\r\n      \"group/timeline-item relative flex flex-1 flex-col gap-2\",\r\n      orientation === \"horizontal\"\r\n        ? \"mt-8 not-last:pe-8\"\r\n        : \"ms-8 not-last:pb-16\",\r\n      className,\r\n    ),\r\n    \"data-completed\": isCompleted || undefined,\r\n    \"data-current\": isCurrent || undefined,\r\n    \"data-slot\": \"timeline-item\",\r\n  });\r\n\r\n  return (\r\n    <TimelineItemContext.Provider value={{ step }}>\r\n      {render ? render(itemProps, React.createRef()) : <div {...itemProps} />}\r\n    </TimelineItemContext.Provider>\r\n  );\r\n}\r\n\r\n// TimelineSeparator\r\ninterface TimelineSeparatorProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLDivElement>>;\r\n}\r\n\r\nfunction TimelineSeparator({\r\n  className,\r\n  render,\r\n  ...props\r\n}: TimelineSeparatorProps) {\r\n  const { orientation, activeStep } = useTimeline();\r\n  const currentItem = React.useContext(TimelineItemContext);\r\n\r\n  const isCompleted = currentItem ? currentItem.step < activeStep : false;\r\n  const state = isCompleted ? \"completed\" : \"pending\";\r\n\r\n  const separatorProps = mergeProps(props, {\r\n    className: cn(\r\n      timelineSeparatorVariants({\r\n        orientation: orientation || \"vertical\",\r\n        state,\r\n      }),\r\n      className,\r\n    ),\r\n    \"aria-hidden\": \"true\",\r\n    \"data-slot\": \"timeline-separator\",\r\n    \"data-state\": state,\r\n  });\r\n\r\n  return render ? (\r\n    render(separatorProps, React.createRef())\r\n  ) : (\r\n    <div {...separatorProps} />\r\n  );\r\n}\r\n\r\n// TimelineTitle\r\ninterface TimelineTitleProps extends React.HTMLAttributes<HTMLHeadingElement> {\r\n  render?: RenderFunction<React.HTMLAttributes<HTMLHeadingElement>>;\r\n}\r\n\r\nfunction TimelineTitle({ className, render, ...props }: TimelineTitleProps) {\r\n  const titleProps = mergeProps(props, {\r\n    className: cn(\"text-sm font-semibold leading-none\", className),\r\n    \"data-slot\": \"timeline-title\",\r\n  });\r\n\r\n  return render ? (\r\n    render(titleProps, React.createRef())\r\n  ) : (\r\n    <h3 {...titleProps} />\r\n  );\r\n}\r\n\r\nexport {\r\n  Timeline,\r\n  TimelineContent,\r\n  TimelineDate,\r\n  TimelineHeader,\r\n  TimelineIndicator,\r\n  TimelineItem,\r\n  TimelineSeparator,\r\n  TimelineTitle,\r\n};\r\n",
      "type": "registry:ui",
      "target": "components/ui/cubby-ui/timeline.tsx"
    }
  ]
}